{% load static %}
{% load check_vote %}
<div class="row answer" id="answer-{{ answer.pk }}">
    <div class="col-2">
        <img class="avatar-answer"
             src="
                     {% if answer.fk_profile.userPfp != '' %}{{ answer.fk_profile.userPfp.url }}{% else %}{% static "img/no-avatar.png" %}{% endif %}"
             alt="avatar">
        <div class="row-1 rating-box">
            <div class="rating">{{ answer.rating }}</div>
            <div class="col-2 btn-group-vertical rate-buttons">
                <form>
                    {% csrf_token %}
                </form>
                <div class="col-2 btn-group-vertical rate-buttons">
                    {% with info=request.user.profile.pk %}
                        {% if question.pk|check_question_vote:info == "up" %}
                            <input type="image" class="rate-button answer-button"
                                   src="{% static "img/arrow-up-pressed.png" %}"
                                   data-id="{{ answer.pk }}" data-type="up" data-pressed="true">
                            <input type="image" class="rate-button answer-button"
                                   src="{% static "img/arrow-down.png" %}"
                                   data-id="{{ answer.pk }}" data-type="down" data-pressed="false">
                        {% elif question.pk|check_question_vote:info == "down" %}
                            <input type="image" class="rate-button answer-button" src="{% static "img/arrow-up.png" %}"
                                   data-id="{{ answer.pk }}" data-type="up" data-pressed="false">
                            <input type="image" class="rate-button answer-button"
                                   src="{% static "img/arrow-down-pressed.png" %}"
                                   data-id="{{ answer.pk }}" data-type="down" data-pressed="true">
                        {% else %}
                            <input type="image" class="rate-button answer-button" src="{% static "img/arrow-up.png" %}"
                                   data-id="{{ answer.pk }}" data-type="up" data-pressed="false">
                            <input type="image" class="rate-button answer-button"
                                   src="{% static "img/arrow-down.png" %}"
                                   data-id="{{ answer.pk }}" data-type="down" data-pressed="false">
                        {% endif %}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>
    <div class="col-10">
        <p>
            {{ answer.text }}
        </p>
        <div class="form-check">
            <input class="form-check-input correction" type="checkbox" id="gridCheck1"
                    {% if not isAsker %} disabled{% endif %}
                    {% if answer.marked_correct %} checked{% endif %}>
            <label class="form-check-label" for="gridCheck1">
                <h5>Correct!</h5>
            </label>
            <br>
            <button type="button" class="btn btn-outline-success submit-correction" data-id="{{ answer.pk }}">Submit</button>
        </div>
    </div>
</div>